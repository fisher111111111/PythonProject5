{"name": "Тест получения всех items", "status": "failed", "statusDetails": {"message": "Failed: Pydantic валидация не прошла:\n1 validation error for ResponseAllItems\ncount\n  Value error, Количество элементов (16) не соответствует количеству элементов данных (1) [type=value_error, input_value=16, input_type=int]\n    For further information visit https://errors.pydantic.dev/2.11/v/value_error", "trace": "response = <Response [200]>, model = <class 'PythonProject5.src.item_models.data_model_items.ResponseAllItems'>\nexpected_data = {'count': 16, 'data': [{'description': None, 'id': '70045ed7-2e0c-4479-903c-a28ad42ba3d7', 'owner_id': 'd5baae1b-e4f6-... 'ba52d06d-5336-446d-bbc0-2571edcf8981', 'owner_id': 'd5baae1b-e4f6-47e1-b6e7-e0b4228a6e77', 'title': 'Мягкий.'}, ...]}\nexpected_status = 200\n\n    def validate_items(\n        response: Response,\n        model: Type[ResponseAllItems],\n        expected_data: dict,\n        expected_status: int = 200\n    ) -> BaseModel:\n    \n        # Проверка статуса ответа\n        if response.status_code != expected_status:\n            pytest.fail(f\"Ожидался статус {expected_status}, но получен {response.status_code}: {response.text}\")\n    \n        # Попытка парсинга JSON\n        try:\n            data_items = response.json()\n        except Exception as e:\n            pytest.fail(f\"Ошибка парсинга JSON: {e}\\nResponse: {response.text}\")\n    \n        try:\n>           parsed = model(**data_items)\nE           pydantic_core._pydantic_core.ValidationError: 1 validation error for ResponseAllItems\nE           count\nE             Value error, Количество элементов (16) не соответствует количеству элементов данных (1) [type=value_error, input_value=16, input_type=int]\nE               For further information visit https://errors.pydantic.dev/2.11/v/value_error\n\nsrc\\utils_item\\validator_all_items.py:25: ValidationError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <test_valid_items.TestItemsValid object at 0x00000000056DD250>, item_session = <requests.sessions.Session object at 0x00000000056C0B10>\nitem_token = {'Accept': '*/*', 'Accept-Encoding': 'gzip, deflate', 'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.ey...LWU0ZjYtNDdlMS1iNmU3LWUwYjQyMjhhNmU3NyJ9.nXHARC_WW9u5J5zTy3B9D8TXVAEfgoULWN8at_tT7t8', 'Connection': 'keep-alive', ...}\n\n    @allure.title(\"Тест получения всех items\")\n    def test_get_items(self, item_session, item_token):\n        with allure.step(\"Отравляем запрос на получение всех items\"):\n            get_items = item_session.get(ItemsURLs.items_endpoint(),\n                                        headers=item_token)\n            allure.attach(str(get_items), name=\"Результат запроса на получение всех items\",\n                          attachment_type=allure.attachment_type.JSON)\n        assert get_items.status_code == 200, \"Неожидаемый статус код\"\n>       validate_items(get_items, model=ResponseAllItems, expected_data=get_items.json())\n\ntests\\test_valid_items.py:76: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nresponse = <Response [200]>, model = <class 'PythonProject5.src.item_models.data_model_items.ResponseAllItems'>\nexpected_data = {'count': 16, 'data': [{'description': None, 'id': '70045ed7-2e0c-4479-903c-a28ad42ba3d7', 'owner_id': 'd5baae1b-e4f6-... 'ba52d06d-5336-446d-bbc0-2571edcf8981', 'owner_id': 'd5baae1b-e4f6-47e1-b6e7-e0b4228a6e77', 'title': 'Мягкий.'}, ...]}\nexpected_status = 200\n\n    def validate_items(\n        response: Response,\n        model: Type[ResponseAllItems],\n        expected_data: dict,\n        expected_status: int = 200\n    ) -> BaseModel:\n    \n        # Проверка статуса ответа\n        if response.status_code != expected_status:\n            pytest.fail(f\"Ожидался статус {expected_status}, но получен {response.status_code}: {response.text}\")\n    \n        # Попытка парсинга JSON\n        try:\n            data_items = response.json()\n        except Exception as e:\n            pytest.fail(f\"Ошибка парсинга JSON: {e}\\nResponse: {response.text}\")\n    \n        try:\n            parsed = model(**data_items)\n        except ValidationError as e:\n>           pytest.fail(f\"Pydantic валидация не прошла:\\n{e}\")\nE           Failed: Pydantic валидация не прошла:\nE           1 validation error for ResponseAllItems\nE           count\nE             Value error, Количество элементов (16) не соответствует количеству элементов данных (1) [type=value_error, input_value=16, input_type=int]\nE               For further information visit https://errors.pydantic.dev/2.11/v/value_error\n\nsrc\\utils_item\\validator_all_items.py:27: Failed"}, "steps": [{"name": "Отравляем запрос на получение всех items", "status": "passed", "attachments": [{"name": "Результат запроса на получение всех items", "source": "b04db787-fe4e-40c5-92f4-81c12792acd6-attachment.json", "type": "application/json"}], "start": 1763406071267, "stop": 1763406071356}], "start": 1763406071266, "stop": 1763406071359, "uuid": "845df03d-db80-47c4-94d4-fd1685787c28", "historyId": "9d0be64ee630be8414d89191e3cf110f", "testCaseId": "9d0be64ee630be8414d89191e3cf110f", "fullName": "tests.test_valid_items.TestItemsValid#test_get_items", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_valid_items"}, {"name": "subSuite", "value": "TestItemsValid"}, {"name": "host", "value": "WIN-VIK827QHRC6"}, {"name": "thread", "value": "10488-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_valid_items"}], "titlePath": ["tests", "test_valid_items.py", "TestItemsValid"]}